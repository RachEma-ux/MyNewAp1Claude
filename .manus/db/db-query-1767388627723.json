{
  "query": "CREATE TABLE IF NOT EXISTS trigger_registry (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  typeId VARCHAR(100) NOT NULL UNIQUE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT NOT NULL,\n  category VARCHAR(50) NOT NULL,\n  semanticVersion VARCHAR(20) NOT NULL,\n  icon VARCHAR(50),\n  classification ENUM('external', 'time-based', 'manual') NOT NULL,\n  isDeterministic BOOLEAN NOT NULL,\n  isIdempotent BOOLEAN NOT NULL,\n  safeByDefault BOOLEAN NOT NULL DEFAULT TRUE,\n  intentDoc TEXT NOT NULL,\n  configSchema JSON NOT NULL,\n  configSchemaVersion INT NOT NULL DEFAULT 1,\n  defaultConfig JSON,\n  uiRenderer TEXT,\n  requiredFields JSON,\n  unsafeOptions JSON,\n  validationRules JSON,\n  samplePayload JSON,\n  inputContract JSON,\n  outputContract JSON NOT NULL,\n  outputTypes JSON,\n  initialWorkflowSchema JSON,\n  executionMode ENUM('sync', 'async') NOT NULL,\n  blockingBehavior ENUM('blocking', 'non-blocking') NOT NULL,\n  retryPolicy JSON,\n  timeoutPolicy JSON,\n  failureHandling JSON,\n  stateTier ENUM('ephemeral', 'durable') NOT NULL,\n  maxStateSize INT,\n  concurrentIsolation TEXT,\n  compensationStrategy TEXT,\n  workflowFailureHandler JSON,\n  idempotencyKeyField VARCHAR(100),\n  requiredPermissions JSON,\n  riskLevel ENUM('safe', 'restricted', 'privileged') NOT NULL,\n  preExecutionPolicies JSON,\n  secretFields JSON,\n  tenantScoped BOOLEAN NOT NULL DEFAULT TRUE,\n  tenantIsolation TEXT,\n  metricsConfig JSON,\n  logFields JSON,\n  errorClassification JSON,\n  performanceProfile ENUM('light', 'standard', 'heavy') NOT NULL,\n  latencySLA JSON,\n  throughputExpectation INT,\n  degradationBehavior TEXT,\n  rateLimits JSON,\n  costQuotas JSON,\n  backpressureStrategy TEXT,\n  purposeDoc TEXT NOT NULL,\n  useCases JSON,\n  failureModes JSON,\n  securityConsiderations TEXT,\n  examples JSON,\n  testCoverage JSON,\n  dryRunSupported BOOLEAN NOT NULL DEFAULT FALSE,\n  simulationConfig JSON,\n  deprecationNotice TEXT,\n  migrationPath TEXT,\n  replacementTypeId VARCHAR(100),\n  subWorkflowSupport BOOLEAN NOT NULL DEFAULT FALSE,\n  maxNestingDepth INT DEFAULT 5,\n  variableScopingRules TEXT,\n  failureBubblingRules TEXT,\n  handlerCode TEXT,\n  handlerType ENUM('inline', 'external', 'webhook') NOT NULL,\n  handlerEndpoint VARCHAR(500),\n  requiresNetwork BOOLEAN NOT NULL DEFAULT FALSE,\n  requiresSecrets BOOLEAN NOT NULL DEFAULT FALSE,\n  hasSideEffects BOOLEAN NOT NULL DEFAULT FALSE,\n  hasCost BOOLEAN NOT NULL DEFAULT FALSE,\n  status ENUM('draft', 'pending_approval', 'approved', 'rejected', 'deprecated') NOT NULL DEFAULT 'draft',\n  approvedBy INT,\n  approvedAt TIMESTAMP,\n  rejectionReason TEXT,\n  criticalViolations INT NOT NULL DEFAULT 0,\n  majorIssues INT NOT NULL DEFAULT 0,\n  complianceScore INT,\n  lastValidated TIMESTAMP,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2mRYiUGqDHCaXxC.root --database Y5Wav99nvtrRC8pT5fEnKy --execute CREATE TABLE IF NOT EXISTS trigger_registry (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  typeId VARCHAR(100) NOT NULL UNIQUE,\n  name VARCHAR(255) NOT NULL,\n  description TEXT NOT NULL,\n  category VARCHAR(50) NOT NULL,\n  semanticVersion VARCHAR(20) NOT NULL,\n  icon VARCHAR(50),\n  classification ENUM('external', 'time-based', 'manual') NOT NULL,\n  isDeterministic BOOLEAN NOT NULL,\n  isIdempotent BOOLEAN NOT NULL,\n  safeByDefault BOOLEAN NOT NULL DEFAULT TRUE,\n  intentDoc TEXT NOT NULL,\n  configSchema JSON NOT NULL,\n  configSchemaVersion INT NOT NULL DEFAULT 1,\n  defaultConfig JSON,\n  uiRenderer TEXT,\n  requiredFields JSON,\n  unsafeOptions JSON,\n  validationRules JSON,\n  samplePayload JSON,\n  inputContract JSON,\n  outputContract JSON NOT NULL,\n  outputTypes JSON,\n  initialWorkflowSchema JSON,\n  executionMode ENUM('sync', 'async') NOT NULL,\n  blockingBehavior ENUM('blocking', 'non-blocking') NOT NULL,\n  retryPolicy JSON,\n  timeoutPolicy JSON,\n  failureHandling JSON,\n  stateTier ENUM('ephemeral', 'durable') NOT NULL,\n  maxStateSize INT,\n  concurrentIsolation TEXT,\n  compensationStrategy TEXT,\n  workflowFailureHandler JSON,\n  idempotencyKeyField VARCHAR(100),\n  requiredPermissions JSON,\n  riskLevel ENUM('safe', 'restricted', 'privileged') NOT NULL,\n  preExecutionPolicies JSON,\n  secretFields JSON,\n  tenantScoped BOOLEAN NOT NULL DEFAULT TRUE,\n  tenantIsolation TEXT,\n  metricsConfig JSON,\n  logFields JSON,\n  errorClassification JSON,\n  performanceProfile ENUM('light', 'standard', 'heavy') NOT NULL,\n  latencySLA JSON,\n  throughputExpectation INT,\n  degradationBehavior TEXT,\n  rateLimits JSON,\n  costQuotas JSON,\n  backpressureStrategy TEXT,\n  purposeDoc TEXT NOT NULL,\n  useCases JSON,\n  failureModes JSON,\n  securityConsiderations TEXT,\n  examples JSON,\n  testCoverage JSON,\n  dryRunSupported BOOLEAN NOT NULL DEFAULT FALSE,\n  simulationConfig JSON,\n  deprecationNotice TEXT,\n  migrationPath TEXT,\n  replacementTypeId VARCHAR(100),\n  subWorkflowSupport BOOLEAN NOT NULL DEFAULT FALSE,\n  maxNestingDepth INT DEFAULT 5,\n  variableScopingRules TEXT,\n  failureBubblingRules TEXT,\n  handlerCode TEXT,\n  handlerType ENUM('inline', 'external', 'webhook') NOT NULL,\n  handlerEndpoint VARCHAR(500),\n  requiresNetwork BOOLEAN NOT NULL DEFAULT FALSE,\n  requiresSecrets BOOLEAN NOT NULL DEFAULT FALSE,\n  hasSideEffects BOOLEAN NOT NULL DEFAULT FALSE,\n  hasCost BOOLEAN NOT NULL DEFAULT FALSE,\n  status ENUM('draft', 'pending_approval', 'approved', 'rejected', 'deprecated') NOT NULL DEFAULT 'draft',\n  approvedBy INT,\n  approvedAt TIMESTAMP,\n  rejectionReason TEXT,\n  criticalViolations INT NOT NULL DEFAULT 0,\n  majorIssues INT NOT NULL DEFAULT 0,\n  complianceScore INT,\n  lastValidated TIMESTAMP,\n  createdBy INT NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1640
}